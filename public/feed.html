<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <title>Message Feed</title>
    <link rel="stylesheet" href="style.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-dateFormat/1.0/jquery.dateFormat.js"></script>
  </head>
  <body>
    <ul class="navbar">
      <li><a href="/">Home</a></li>
      <li><a href="/feed.html">Feed</a></li>
      <li><a href="/post.html">Post</a></li>
    </ul>
    <h1 class="title">Message Feed</h1>
    <div class="message-list">
    </div>
    <script>
//Hello! This is the start of the JavaScript.

var displayMessage = function(post) {
  var postElement = $('<div class="post"></div>');
  $(".message-list").append(postElement);

  var messageElement = $('<div class="message">' + post.message +  "<br>Message by " + post.author +  '</div>');
  postElement.append(messageElement);

  var timeElement = $('<div class="time">' + $.format.prettyDate(post.time) + '</div>');
postElement.append(timeElement);

  var imageElement = $('<img src="' + post.image + '" class="img-responsive">');
  postElement.append(imageElement);

}

var createFeed = function(posts) {
  posts.forEach(displayMessage);
}

$.get("/posts", createFeed);

//This is the end of the JavaScript.
    </script>
  </body>
</html>
